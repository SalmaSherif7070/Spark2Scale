{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mariam/source/repos/Spark2Scale/spark2scale.client/src/components/ErrorReporter.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useRef } from \"react\";\r\n\r\ntype ReporterProps = {\r\n    /*  ⎯⎯ props are only provided on the global-error page ⎯⎯ */\r\n    error?: Error & { digest?: string };\r\n    reset?: () => void;\r\n};\r\n\r\nexport default function ErrorReporter({ error, reset }: ReporterProps) {\r\n    /* ─ instrumentation shared by every route ─ */\r\n    const lastOverlayMsg = useRef(\"\");\r\n    const pollRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n    useEffect(() => {\r\n        const inIframe = window.parent !== window;\r\n        if (!inIframe) return;\r\n\r\n        const send = (payload: unknown) => window.parent.postMessage(payload, \"*\");\r\n\r\n        const onError = (e: ErrorEvent) =>\r\n            send({\r\n                type: \"ERROR_CAPTURED\",\r\n                error: {\r\n                    message: e.message,\r\n                    stack: e.error?.stack,\r\n                    filename: e.filename,\r\n                    lineno: e.lineno,\r\n                    colno: e.colno,\r\n                    source: \"window.onerror\",\r\n                },\r\n                timestamp: Date.now(),\r\n            });\r\n\r\n        const onReject = (e: PromiseRejectionEvent) =>\r\n            send({\r\n                type: \"ERROR_CAPTURED\",\r\n                error: {\r\n                    message: e.reason?.message ?? String(e.reason),\r\n                    stack: e.reason?.stack,\r\n                    source: \"unhandledrejection\",\r\n                },\r\n                timestamp: Date.now(),\r\n            });\r\n\r\n        const pollOverlay = () => {\r\n            const overlay = document.querySelector(\"[data-nextjs-dialog-overlay]\");\r\n            const node =\r\n                overlay?.querySelector(\r\n                    \"h1, h2, .error-message, [data-nextjs-dialog-body]\"\r\n                ) ?? null;\r\n            const txt = node?.textContent ?? node?.innerHTML ?? \"\";\r\n            if (txt && txt !== lastOverlayMsg.current) {\r\n                lastOverlayMsg.current = txt;\r\n                send({\r\n                    type: \"ERROR_CAPTURED\",\r\n                    error: { message: txt, source: \"nextjs-dev-overlay\" },\r\n                    timestamp: Date.now(),\r\n                });\r\n            }\r\n        };\r\n\r\n        window.addEventListener(\"error\", onError);\r\n        window.addEventListener(\"unhandledrejection\", onReject);\r\n        pollRef.current = setInterval(pollOverlay, 1000);\r\n\r\n        return () => {\r\n            window.removeEventListener(\"error\", onError);\r\n            window.removeEventListener(\"unhandledrejection\", onReject);\r\n            pollRef.current && clearInterval(pollRef.current);\r\n        };\r\n    }, []);\r\n\r\n    /* ─ extra postMessage when on the global-error route ─ */\r\n    useEffect(() => {\r\n        if (!error) return;\r\n        window.parent.postMessage(\r\n            {\r\n                type: \"global-error-reset\",\r\n                error: {\r\n                    message: error.message,\r\n                    stack: error.stack,\r\n                    digest: error.digest,\r\n                    name: error.name,\r\n                },\r\n                timestamp: Date.now(),\r\n                userAgent: navigator.userAgent,\r\n            },\r\n            \"*\"\r\n        );\r\n    }, [error]);\r\n\r\n    /* ─ ordinary pages render nothing ─ */\r\n    if (!error) return null;\r\n\r\n    /* ─ global-error UI ─ */\r\n    return (\r\n        <html>\r\n            <body className=\"min-h-screen bg-background text-foreground flex items-center justify-center p-4\">\r\n                <div className=\"max-w-md w-full text-center space-y-6\">\r\n                    <div className=\"space-y-2\">\r\n                        <h1 className=\"text-2xl font-bold text-destructive\">\r\n                            Something went wrong!\r\n                        </h1>\r\n                        <p className=\"text-muted-foreground\">\r\n                            An unexpected error occurred. Please try again fixing with Orchids\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                        {process.env.NODE_ENV === \"development\" && (\r\n                            <details className=\"mt-4 text-left\">\r\n                                <summary className=\"cursor-pointer text-sm text-muted-foreground hover:text-foreground\">\r\n                                    Error details\r\n                                </summary>\r\n                                <pre className=\"mt-2 text-xs bg-muted p-2 rounded overflow-auto\">\r\n                                    {error.message}\r\n                                    {error.stack && (\r\n                                        <div className=\"mt-2 text-muted-foreground\">\r\n                                            {error.stack}\r\n                                        </div>\r\n                                    )}\r\n                                    {error.digest && (\r\n                                        <div className=\"mt-2 text-muted-foreground\">\r\n                                            Digest: {error.digest}\r\n                                        </div>\r\n                                    )}\r\n                                </pre>\r\n                            </details>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </body>\r\n        </html>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;AA8GyB;;AA5GzB;;;AAFA;;AAUe,SAAS,cAAc,EAAE,KAAK,EAAE,KAAK,EAAiB;;IACjE,6CAA6C,GAC7C,MAAM,iBAAiB,IAAA,sLAAM,EAAC;IAC9B,MAAM,UAAU,IAAA,sLAAM,EAAwB;IAE9C,IAAA,yLAAS;mCAAC;YACN,MAAM,WAAW,OAAO,MAAM,KAAK;YACnC,IAAI,CAAC,UAAU;YAEf,MAAM;gDAAO,CAAC,UAAqB,OAAO,MAAM,CAAC,WAAW,CAAC,SAAS;;YAEtE,MAAM;mDAAU,CAAC,IACb,KAAK;wBACD,MAAM;wBACN,OAAO;4BACH,SAAS,EAAE,OAAO;4BAClB,OAAO,EAAE,KAAK,EAAE;4BAChB,UAAU,EAAE,QAAQ;4BACpB,QAAQ,EAAE,MAAM;4BAChB,OAAO,EAAE,KAAK;4BACd,QAAQ;wBACZ;wBACA,WAAW,KAAK,GAAG;oBACvB;;YAEJ,MAAM;oDAAW,CAAC,IACd,KAAK;wBACD,MAAM;wBACN,OAAO;4BACH,SAAS,EAAE,MAAM,EAAE,WAAW,OAAO,EAAE,MAAM;4BAC7C,OAAO,EAAE,MAAM,EAAE;4BACjB,QAAQ;wBACZ;wBACA,WAAW,KAAK,GAAG;oBACvB;;YAEJ,MAAM;uDAAc;oBAChB,MAAM,UAAU,SAAS,aAAa,CAAC;oBACvC,MAAM,OACF,SAAS,cACL,wDACC;oBACT,MAAM,MAAM,MAAM,eAAe,MAAM,aAAa;oBACpD,IAAI,OAAO,QAAQ,eAAe,OAAO,EAAE;wBACvC,eAAe,OAAO,GAAG;wBACzB,KAAK;4BACD,MAAM;4BACN,OAAO;gCAAE,SAAS;gCAAK,QAAQ;4BAAqB;4BACpD,WAAW,KAAK,GAAG;wBACvB;oBACJ;gBACJ;;YAEA,OAAO,gBAAgB,CAAC,SAAS;YACjC,OAAO,gBAAgB,CAAC,sBAAsB;YAC9C,QAAQ,OAAO,GAAG,YAAY,aAAa;YAE3C;2CAAO;oBACH,OAAO,mBAAmB,CAAC,SAAS;oBACpC,OAAO,mBAAmB,CAAC,sBAAsB;oBACjD,QAAQ,OAAO,IAAI,cAAc,QAAQ,OAAO;gBACpD;;QACJ;kCAAG,EAAE;IAEL,wDAAwD,GACxD,IAAA,yLAAS;mCAAC;YACN,IAAI,CAAC,OAAO;YACZ,OAAO,MAAM,CAAC,WAAW,CACrB;gBACI,MAAM;gBACN,OAAO;oBACH,SAAS,MAAM,OAAO;oBACtB,OAAO,MAAM,KAAK;oBAClB,QAAQ,MAAM,MAAM;oBACpB,MAAM,MAAM,IAAI;gBACpB;gBACA,WAAW,KAAK,GAAG;gBACnB,WAAW,UAAU,SAAS;YAClC,GACA;QAER;kCAAG;QAAC;KAAM;IAEV,qCAAqC,GACrC,IAAI,CAAC,OAAO,OAAO;IAEnB,uBAAuB,GACvB,qBACI,4MAAC;kBACG,cAAA,4MAAC;YAAK,WAAU;sBACZ,cAAA,4MAAC;gBAAI,WAAU;;kCACX,4MAAC;wBAAI,WAAU;;0CACX,4MAAC;gCAAG,WAAU;0CAAsC;;;;;;0CAGpD,4MAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;kCAIzC,4MAAC;wBAAI,WAAU;kCACV,oDAAyB,+BACtB,4MAAC;4BAAQ,WAAU;;8CACf,4MAAC;oCAAQ,WAAU;8CAAqE;;;;;;8CAGxF,4MAAC;oCAAI,WAAU;;wCACV,MAAM,OAAO;wCACb,MAAM,KAAK,kBACR,4MAAC;4CAAI,WAAU;sDACV,MAAM,KAAK;;;;;;wCAGnB,MAAM,MAAM,kBACT,4MAAC;4CAAI,WAAU;;gDAA6B;gDAC/B,MAAM,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWjE;GA7HwB;KAAA"}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mariam/source/repos/Spark2Scale/spark2scale.client/src/app/global-error.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport ErrorReporter from \"@/components/ErrorReporter\";\r\n\r\nexport default ErrorReporter;\r\n"],"names":[],"mappings":";;;;AAEA;AAFA;;uCAIe,yLAAa"}}]
}